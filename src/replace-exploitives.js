const exploitives = [
  'kurva',
  'kunda',
  'kokot',
  'čurák',
  'hovno',
  'nasrat',
  'mrdat',
  'píča'
]
function getRandomExploitive () {
  return exploitives[Math.floor(Math.random() * exploitives.length)]
}

const emoticonSrcRe = /\/\/i.mimibazar.cz\/h\/bc\/i\/\d+.gif/

function isEmoticonImage (element) {
  return emoticonSrcRe.test(element.getAttribute('src'))
}

function getEmoticons () {
  return [...document.querySelectorAll('img')].filter(isEmoticonImage)
}

function replaceEmoticonWithExploitive (emoticonElement) {
  const randomExploitive = getRandomExploitive()
  const exploitiveNode = document.createTextNode(randomExploitive)
  emoticonElement.parentNode.insertBefore(exploitiveNode, emoticonElement)
  emoticonElement.parentNode.removeChild(emoticonElement)
}

getEmoticons().forEach(replaceEmoticonWithExploitive)
